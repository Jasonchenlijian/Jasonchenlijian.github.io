webpackJsonp([10],{"/VrT":function(e,t,n){"use strict";var a={filter:function(e,t){var n=[];return e.forEach(function(e){var a={title:e.title,value:""};e.children.forEach(function(e){t.forEach(function(t){t===e.key&&(a.value=e.title)})}),n.push(a)}),n}};n.d(t,"a",function(){return a})},"7KMJ":function(e,t,n){"use strict";var a=n("efIE");n.n(a).a},K2iU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),i=n("exGp"),o=n.n(i),s=n("B6Jl"),l=n("0jG4"),c=n("//Fk"),d=n.n(c),p=n("d63C"),u=(n("zL8q"),{props:{productId:{}},data:function(){return{baseInfo:{},tableData:[],progressData:[],versionList:[],currentTag:null,loading:!1,progress:0}},filters:{progressFormat:function(e){return""}},components:{richEditor:s.a,nodata:p.a},computed:{},mounted:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:return t.next=4,e.search();case 4:case"end":return t.stop()}},t,e)}))()},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.g.getShareVersionListByProductId({},{productId:e.productId});case 2:return n=t.sent,e.versionList=n.list,e.currentTag=e.versionList&&e.versionList.length&&e.versionList[0],t.abrupt("return",d.a.resolve());case 6:case"end":return t.stop()}},t,e)}))()},search:function(){var e=this;return o()(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentTag){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e.loading=!0,t.next=6,l.g.getShareVersionById(e.currentTag.releaseId);case 6:return n=t.sent,e.baseInfo=n,t.next=10,l.b.getShareListByReleaseId({pageSize:999,pageNum:1},e.currentTag.releaseId);case 10:a=t.sent,e.tableData=a.datas,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0);case 17:return t.prev=17,e.loading=!1,t.finish(17);case 20:case"end":return t.stop()}},t,e,[[2,14,17,20]])}))()},clickTag:function(e){this.currentTag=e,this.search()},download:function(e){var t=this;return o()(r.a.mark(function n(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.b.generatePresignedUrl(e.attachmentId);case 2:a=t.sent,console.log(a),a&&window.open(a);case 5:case"end":return t.stop()}},n,t)}))()}}}),f=(n("VzBR"),n("K1/g")),b=Object(f.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nodata",{attrs:{data:e.versionList,loading:e.loading}},[e._l(e.versionList,function(t,a){return n("el-button",{key:a,attrs:{size:"mini",round:"",plain:e.currentTag!==t,type:e.currentTag===t?"primary":"info"},on:{click:function(n){return e.clickTag(t)}}},[e._v(e._s(t.releaseVersion))])}),e._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"38px"}},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.baseInfo.releaseDesc,expression:"baseInfo.releaseDesc"}],staticClass:"versionInfo",attrs:{type:"textarea",resize:"none",autosize:{minRows:2},readonly:""},model:{value:e.baseInfo.releaseDesc,callback:function(t){e.$set(e.baseInfo,"releaseDesc",t)},expression:"baseInfo.releaseDesc"}}),e._v(" "),n("richEditor",{directives:[{name:"show",rawName:"v-show",value:e.baseInfo.releaseDetail,expression:"baseInfo.releaseDetail"}],staticClass:"markdownPad",attrs:{mode:"preview"},model:{value:e.baseInfo.releaseDetail,callback:function(t){e.$set(e.baseInfo,"releaseDetail",t)},expression:"baseInfo.releaseDetail"}}),e._v(" "),n("el-table",{staticStyle:{width:"100%","margin-bottom":"50px"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{type:"index"}}),e._v(" "),n("el-table-column",{attrs:{prop:"attachmentName",label:"文件名"}}),e._v(" "),n("el-table-column",{attrs:{prop:"attachmentName",label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(e._s(e._f("datetimeformat")(n.createTime)))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{on:{click:function(t){return e.download(a)}}},[e._v("下载")])]}}])})],1)],1)],2)},[],!1,null,"d0bd68cc",null).exports,x=n("/VrT");var v={data:function(){return{active:"first",viewModel:{},hasPermission:!1,loading:!1,categoryTable:[]}},components:{richEditor:s.a,attachmentInfo:b,nodata:p.a},computed:{productId:function(){return this.$route.query.productId}},mounted:function(){this.init(),1==function(e){for(var t=window.location.hash.substring(21).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]==e)return a[1]}return!1}("tab")?this.active="first":this.active="second"},methods:{init:function(){var e=this;return o()(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,n=e.productId,t.next=5,l.g.getShreDetailById(n);case 5:(a=t.sent).productContent=a.productContent||"",e.viewModel=a,console.log(e.viewModel),e.getThisProductCategory(a.categoryIdList),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}},t,e,[[1,12,15,18]])}))()},getThisProductCategory:function(e){var t=this;return o()(r.a.mark(function n(){var a;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.d.getShareParsedTree();case 2:a=n.sent,t.categoryTable=x.a.filter(a,e);case 4:case"end":return n.stop()}},n,t)}))()}}},m=(n("7KMJ"),Object(f.a)(v,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"repositoryDetail"},[n("div",{staticClass:"baseInfo"},[n("div",{staticClass:"main"},[n("div",{staticClass:"left"},[n("div",{staticClass:"iconarea"},[e.viewModel.productIcon?n("img",{staticStyle:{width:"110px",height:"110px"},attrs:{src:e.viewModel.productIcon,alt:""}}):n("i",{staticClass:"icon iconfont icon-peiwangyindao"})])]),e._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"subtitle"},[e._v(e._s(e.viewModel.productName))]),e._v(" "),n("div",{staticClass:"intro"},[e._v(e._s(e.viewModel.productDesc))])])]),e._v(" "),n("div",{staticClass:"bottom"},[n("p",{staticClass:"bottomCategory"},e._l(e.categoryTable,function(t){return n("span",{key:t.title,staticClass:"bottomCategoryItem"},[e._v(e._s(t.title)+"："+e._s(t.value))])}),0),e._v(" "),n("p",{staticClass:"bottomItem"},[n("span",[e._v("更新时间："+e._s(e._f("dateformat")(e.viewModel.updateTime)))]),e._v("1\n                "),n("span",{staticStyle:{"margin-left":"40px"}},[e._v("发布者："+e._s(e.viewModel.productCreaterName))])])])]),e._v(" "),n("div",{staticClass:"detailInfo"},[n("el-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("el-tab-pane",{attrs:{label:"资产详情",name:"first"}},[n("nodata",{staticStyle:{"min-height":"300px"},attrs:{data:e.viewModel.productContent,loading:e.loading}},[n("richEditor",{staticClass:"markdownPad",attrs:{mode:"preview"},model:{value:e.viewModel.productContent,callback:function(t){e.$set(e.viewModel,"productContent",t)},expression:"viewModel.productContent"}})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"资产下载",name:"second"}},[n("attachmentInfo",{attrs:{productId:e.productId}})],1)],1)],1)])},[],!1,null,"4b677129",null));t.default=m.exports},VzBR:function(e,t,n){"use strict";var a=n("mK5G");n.n(a).a},efIE:function(e,t,n){var a=n("pVFm");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("6e87b389",a,!0)},mK5G:function(e,t,n){var a=n("veNi");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("32126c3f",a,!0)},pVFm:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,".repositoryDetail .baseInfo[data-v-4b677129] {\n  margin: 24px auto 0 auto;\n  width: 1200px;\n  height: 188px;\n  background: white;\n  -webkit-box-shadow: 0px 4px 11px 0px #e4e5e6;\n          box-shadow: 0px 4px 11px 0px #e4e5e6;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.repositoryDetail .baseInfo .main[data-v-4b677129] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    width: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.repositoryDetail .baseInfo .main .left[data-v-4b677129] {\n      -webkit-box-flex: 0;\n          -ms-flex: none;\n              flex: none;\n      width: 150px;\n      height: 100%;\n      position: relative;\n}\n.repositoryDetail .baseInfo .main .left .iconarea[data-v-4b677129] {\n        width: 110px;\n        height: 110px;\n        background: #dfe3ec;\n        border-radius: 8px;\n        position: absolute;\n        top: 25px;\n        left: 25px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n.repositoryDetail .baseInfo .main .left .iconarea .icon[data-v-4b677129] {\n          color: #142851;\n          font-size: 34px;\n}\n.repositoryDetail .baseInfo .main .right[data-v-4b677129] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      height: 100%;\n}\n.repositoryDetail .baseInfo .main .right .subtitle[data-v-4b677129] {\n        margin-top: 37px;\n        font-size: 16px;\n        font-weight: 600;\n        color: #363c46;\n        line-height: 21px;\n}\n.repositoryDetail .baseInfo .main .right .intro[data-v-4b677129] {\n        margin-top: 10px;\n        font-size: 13px;\n        color: #7f8491;\n        line-height: 17px;\n}\n.repositoryDetail .baseInfo .bottom[data-v-4b677129] {\n    -webkit-box-flex: 0;\n        -ms-flex: none;\n            flex: none;\n    width: 100%;\n    height: 50px;\n    margin-top: 10px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.repositoryDetail .baseInfo .bottom .bottomCategory[data-v-4b677129] {\n      width: 100%;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: start;\n          -ms-flex-pack: start;\n              justify-content: flex-start;\n}\n.repositoryDetail .baseInfo .bottom .bottomCategory .bottomCategoryItem[data-v-4b677129] {\n        font-size: 14px;\n        color: #363c46;\n        margin-left: 20px;\n}\n.repositoryDetail .baseInfo .bottom .bottomCategory .bottomCategoryItem[data-v-4b677129]:first-child {\n          margin-left: 25px;\n}\n.repositoryDetail .baseInfo .bottom .bottomItem[data-v-4b677129] {\n      width: 100%;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: end;\n          -ms-flex-pack: end;\n              justify-content: flex-end;\n      font-size: 14px;\n      color: #363c46;\n      padding-right: 25px;\n}\n.repositoryDetail .detailInfo[data-v-4b677129] {\n  width: 1200px;\n  margin: 32px auto 0 auto;\n  padding: 20px 0;\n}\n.repositoryDetail .markdownPad[data-v-4b677129] {\n  width: 100%;\n}\n",""])},veNi:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,".versionInfo[data-v-d0bd68cc] textarea {\n  background-color: transparent;\n  border: 0;\n}\n.markdownPad[data-v-d0bd68cc] {\n  width: 100%;\n}\n",""])}});